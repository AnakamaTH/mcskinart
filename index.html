<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NameMC SkinArt Generator</title>

  <!-- ðŸŸ£ Discord & Social Embed -->
  <meta property="og:title" content="NameMC SkinArt Generator">
  <meta property="og:description" content="Generate a NameMC skinart.">
  <meta property="og:image" content="https://s.namemc.com/img/favicon-30.png">
  <meta property="og:url" content="https://anakamath.github.io/mcskinart/">

  <!-- ðŸ”· Minecraft Font -->
  <link href="https://fonts.cdnfonts.com/css/minecraftia" rel="stylesheet">

  <!-- ðŸ”¸ Favicon -->
  <link rel="icon" type="image/png" href="https://s.namemc.com/img/favicon-30.png" />

  <!-- ðŸ”¹ CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- ðŸ”¸ JS Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

  <!-- Three.js and OrbitControls -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/controls/OrbitControls.min.js"></script>

  <style>
    /* Add panorama viewer styling */
    #panorama-container {
      width: 100%;
      height: 350px;
      margin-bottom: 1rem;
      border: 2px solid #666;
      border-radius: 6px;
      background: #222;
    }
    /* Basic container styling */
    .container {
      max-width: 600px;
      margin: auto;
      padding: 1rem;
      font-family: 'Minecraftia', monospace, sans-serif;
      color: #eee;
      background: #111;
      border-radius: 8px;
      box-shadow: 0 0 15px #00ffff88;
    }
    h1, h2 {
      text-align: center;
      margin-bottom: 0.5rem;
      user-select: none;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: bold;
      user-select: none;
    }
    input[type="file"] {
      display: block;
      margin: 0.3rem 0 0.8rem 0;
      width: 100%;
    }
    button {
      background: #00ccff;
      border: none;
      padding: 0.7rem 1.2rem;
      font-weight: bold;
      font-family: 'Minecraftia', monospace;
      cursor: pointer;
      border-radius: 4px;
      color: #000;
      width: 100%;
      transition: background 0.3s ease;
      user-select: none;
    }
    button:hover {
      background: #00ffff;
    }
    #status {
      margin-top: 1rem;
      min-height: 1.4rem;
      text-align: center;
      font-weight: bold;
      color: #0f0;
    }
    .usage {
      margin-top: 1.5rem;
      background: #222;
      padding: 1rem;
      border-radius: 6px;
      font-size: 0.9rem;
      line-height: 1.3;
      color: #ccc;
    }
    footer {
      margin-top: 2rem;
      text-align: center;
      font-size: 0.8rem;
      color: #555;
      user-select: none;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>NameMC SkinArt Generator</h1>

    <!-- Panorama viewer -->
    <div id="panorama-container"></div>

    <label>Upload Your Base Skin (64x64 PNG):</label>
    <input type="file" id="baseSkinInput" accept="image/png" />

    <label>Upload Map Image (72x24 PNG, 9Ã—3 grid):</label>
    <input type="file" id="mapInput" accept="image/png" />

    <button id="generateBtn">Generate Skins</button>

    <div id="status"></div>

    <div class="usage">
      <h2>ðŸ“˜ How to Use</h2>
      <ol>
        <li>Upload a base skin (optional, 64x64 PNG).</li>
        <li>Upload a map image (72x24 PNG â€“ 9x3 grid of 8x8 faces).</li>
        <li>Click "Generate Skins" to download a ZIP file.</li>
        <li>Equip from <strong>skin_27</strong> (preview) to <strong>skin_1</strong>.</li>
        <li>Wait until each skin updates on NameMC before the next.</li>
      </ol>
    </div>

    <footer>
      Not affiliated with NameMC or Mojang.
    </footer>
  </div>

  <script src="script.js"></script>

  <script>
    // Three.js Panorama viewer code
    (() => {
      const container = document.getElementById('panorama-container');

      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
      camera.position.set(0, 0, 0.1);

      const renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(container.clientWidth, container.clientHeight);
      container.appendChild(renderer.domElement);

      const controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.enableZoom = false;
      controls.enablePan = false;
      controls.rotateSpeed = 0.3;

      // Minecraft panorama images order: 0-left,1-right,2-front,3-back,4-top,5-bottom
      // Map to Three.js CubeTextureLoader order: posx, negx, posy, negy, posz, negz
      // posx=right(1), negx=left(0), posy=top(4), negy=bottom(5), posz=back(3), negz=front(2)
      const loader = new THREE.CubeTextureLoader();
      const texture = loader.load([
        'panorama_1.png', // posx
        'panorama_0.png', // negx
        'panorama_4.png', // posy
        'panorama_5.png', // negy
        'panorama_3.png', // posz
        'panorama_2.png'  // negz
      ]);

      scene.background = texture;

      window.addEventListener('resize', () => {
        camera.aspect = container.clientWidth / container.clientHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(container.clientWidth, container.clientHeight);
      });

      function animate() {
        requestAnimationFrame(animate);
        controls.update();
        renderer.render(scene, camera);
      }
      animate();
    })();
  </script>

</body>
</html>
